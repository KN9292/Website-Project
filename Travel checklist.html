<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="UTF-8">
    <title>Packing List</title>
    <style>
        body {
        /*define the overall style*/    
            background-color: #F2F2F2;
            color: #F24738;
            font-size: 20px;
            font-family: 'Arial';
            display: flex;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }
        .main-content {
        /*affects to the removed items box and save checklist box*/
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 55%; /* Adjust width as needed */
        }
        .left-column {
        /*left-content includes the title "travel checklist" and first white box ("checklist-container" and "add-item-container)*/
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-right: 20px;
        }
        h1 {
        /*Title "travle checklist"*/    
            text-align: center;
            margin-bottom: 20px;
            margin-top: 60px;
            color: #F24738;
            font-size: 70px;
            font-family: 'Stigsa Display Medium Expanded';
            font-weight: 400;
            flex: 1; 
        }





        .checklist-container {
         /*define the first white box structure*/
            width: 200%;
            max-width: 600px;
            margin-left: 24px;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            margin-bottom: 20px; 
        }
        .checklist-container ul {
        /*list of your checklist  items including optout*/    
            list-style-type: none;
            padding: 20px;
        }
        .checklist-container li {
        /*each items within the checklist items box including optout*/  
            margin-bottom: 15px;
            font-size: 18px;
            position: relative;
        }
        .checklist-container label {
        /*define the space between the checkbox and the letters of items*/    
            margin-left: 10px;
        }
        




        .add-item-container {
        /*new items box*/    
            display: flex;
            margin: 0 auto;
            max-width: 200%;
            padding: 20px;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .add-item-container input[type="text"] {
        /*defines the text input of new items*/    
            flex-grow: 1;
            margin-right: 10px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .add-item-container button {
        /*defines the add item button*/    
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #F24738;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    




        .switch {
        /*style of optout position*/    
            position: absolute;
            left: 480px;
            right: 0;
            display: inline-block;
            width: 58px;
            height: 15px;
        }
        .switch input {
        /*style of optout*/    
            display: none;
        }
        .slider {
        /*style of oputout slider outside gray circle*/    
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
        /*style of white dot within opt out*/    
            position: absolute;
            content: "";
            height: 9px;
            width: 9px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        .opt-out-label {
        /*style of letters "optout"*/    
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            right: 0;
            margin-right: 4px;
            font-size: 12px;
            color: #666;
            white-space: nowrap;
            display: inline-block;
        }





        .removed-items-container {
        /*second box: removed items white box including the title*/
            width: 200%;
            max-width: 600px;
            margin-left: 24px;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            margin-bottom: 20px; 
        }
        .removed-items-container h2 {
        /*title of removed items*/    
            font-size: 24px;
            color: #F24738;
            font-family: 'Stigsa Display Medium Expanded';
            margin: 5px;
            padding: 20px;
        }
        .removed-items-container ul, {
        /*each items within the removed items box*/
            list-style-type: none;
            padding: 20px;
        }
        .removed-items-container li {
        /*list of items within the removed items box*/    
            margin-bottom: 10px;
            font-size: 18px;
            position: relative;
            list-style-type: none;
        }
        .removed {
        /*straightthru of item name of removed items*/    
            text-decoration: line-through;
            color: #999;
            margin-left: -21.5px;
        }
        .removed-container label {
        /*define the space between the checkbox and the letters of items*/    
            margin-left: 10px;
        }




        .save-checklist-container {
        /*third box that put a name of checklist and save a named checklist*/    
            display: flex;
            margin: 0 auto;
            max-width: 200%;
            padding: 20px;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .save-checklist-container input[type='text'] {
        /*third box that to input a name of saved checklist*/    
            flex-grow: 1;
            margin-right: 10px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .styled-button {
        /*this is a style of button of "Add item"*/
        padding: 10px 20px;
        font-size: 16px;
        color: #fff;
        background-color: #F24738;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        }
        .styled-button:hover {
        /*this is a style of button of "Add item" when it hoved over*/    
        background-color: #d1362c; /* Darken color on hover */
        }





        #back-btn {
        /*this is a style of "back" button*/    
            display: flex;
            margin: 0 auto;
            max-width: 200%;
            justify-content: space-between;
            margin-bottom: 20px;
            background-color: #F24738
            border: none;
            border-radius: 5px;
        }




        
        .yoursaved-checklists-container {
        /*whole sections of your saved checklists contents including title*/
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            background-color: transparent;
            border: none;
            border-radius: 0;
            width: 45%;
            position: absolute;
            top: 130px; 
            right: 20px; 
            text-align: right;
        }
        .yoursaved-checklists-container h2 {
        /*this is for the title "Your Saved Checklists"*/
            font-size: 24px;
            color: #F24738;
            font-family: 'Stigsa Display Medium Expanded';
            margin-bottom: 10px;
        }
        .yoursaved-checklists-container ul {
        /*list of your saved items*/
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .yoursaved-checklists-container li {
         /*each item on the lists of your saved items*/    
            cursor: pointer;
            margin-bottom: 10px;
            padding: 10px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .yoursaved-checklists-container li:hover {
        /*style of saved checklists when I hover over the carsol to the item)*/    
            background-color: #fad9d6;
        }
        .delete-checklist-btn {
        /*this is a style of delete box position*/    
            display: inline-block;
            margin-left: 5px;
            padding: 5px 10px;
            background-color: #F24738
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
      




        .pre-made-categories-container {
        /*pre-made-categories section including title of "pre-made categories" and items within "category 1"etc*/    
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            background-color: transparent;
            border: none;
            border-radius: 10px;
            width: 45%;
            position: absolute;
            top: 360px; 
            right: 20px; 
            text-align: right;
        }
        .pre-made-categories-container h2 {
        /*pre-made-categories title*/    
            font-size: 24px;
            color: #F24738;
            font-family: 'Stigsa Display Medium Expanded';
            margin-bottom: 10px;
        }
        .pre-made-categories-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .pre-made-categories-container ul {
        /*list of your pre-amde items*/
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .pre-made-categories-container li {
        /*each item on the lists of your pre-made items*/
            cursor: pointer;
            margin-bottom: 10px;
            padding: 10px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .pre-made-categories-container li:hover {
        /*style of saved checklists when I hover over the carsol to the item)*/
            background-color: #fad9d6;
        }
        .expandable-category {
            cursor: pointer;
            padding: 10px;
            font-size: 18px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 5px;
            position: relative;
        }
        .sub-category-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: none; /* Initially hide the sub-list */
            margin-top: 10px;
        }
        @media (max-width: 768px) {
            .main-content, {
                display: flex;
                flex-wrap: wrap;
                transform: scale(0.8); /* Adjust scale as needed */
                transform-origin: top left;
            }
            .left-column,
            .right-column {
                flex: 1 1 50%; /* Equal width columns, adjust as needed */
                padding: 0 10px; /* Add padding as needed */
                box-sizing: border-box;
            }
            .yoursaved-checklists-container,
            .pre-made-categories-container {
                max-width: 50%; /* Ensure containers take full width */
                width: 100%;
                margin-right: 0;
                margin-left: 0;
            }
    }    
    </style>
</head>
<!--CSS-->



<!--HTML-->
<body>
    <div class="main-content">
        <div class="title-container">
            <h1>Travel Checklist</h1>
        </div>
        <div class="content-wrapper">
               <div class="left-column">    
                    <div class="checklist-container">
                        <div class="add-item-container">
                            <input type="text" id="new-item" placeholder="New item">
                            <button id="add-item-btn" class="styled-button">Add Item</button>
                        </div> <!-- closing add-item-container -->

                        <ul id="sortable">
                            <li>
                                <input type="checkbox" id="item1">
                                <label for="item1">Contact lenses</label>

                                <label class="switch">
                                    <input type="checkbox" class="remove-switch">
                                    <span class="slider"></span>
                                    <span class="opt-out-label">Opt out</span>
                                </label>

                                <span class="switch-label" data-on="Yes" data-off="No"></span>
                            </li>

                            <li>
                                <input type="checkbox" id="item2">
                                <label for="item2">Eye glasses</label>

                                <label class="switch">
                                    <input type="checkbox" class="remove-switch">
                                    <span class="slider"></span>
                                    <span class="opt-out-label">Opt out</span>
                                </label>

                                <span class="switch-label" data-on="Yes" data-off="No"></span>
                            </li>

                            <li>
                                <input type="checkbox" id="item3">
                                <label for="item3">Sunglasses</label>

                                <label class="switch">
                                    <input type="checkbox" class="remove-switch">
                                    <span class="slider"></span>
                                    <span class="opt-out-label">Opt out</span>
                                </label>

                                <span class="switch-label" data-on="Yes" data-off="No"></span>
                            </li>
                        </ul>
                    </div>    

                    <div class="removed-items-container">
                            <h2>Removed Items</h2>
                            <ul id="removed-sortable"></ul>
                    </div> <!-- closing removed-items-container -->

                    <div class="save-checklist-container">
                            <input type="text" id="checklist-name" placeholder="Checklist name">
                            <button id="save-checklist-btn" class="styled-button">Save Checklist</button>
                    </div> <!-- closing save-checklist-container -->
                </div> <!-- closing left-column-container -->
                
                <div class="right-column">
                        <div class="yoursaved-checklists-container">
                            <h2>Your Saved Checklists</h2>
                            <ul id="yoursaved-checklists"></ul>
                        </div> <!-- closing yoursaved-checklists-container -->

                        <div class="pre-made-categories-container">
                            <h2>Pre-made Categories</h2>
                            <ul class="pre-made-categories-list">
                                <!-- Add your pre-made categories here -->
                                <li class="expandable-category">Bathroom Set
                                    <ul class="sub-category-list">
                                        <li>Item 1.1</li>
                                        <li>Item 1.2</li>
                                        <li>Item 1.3</li>
                                    </ul>
                                </li>
                                <li class="expandable-category">Makeup Set
                                    <ul class="sub-category-list">
                                        <li>Item 2.1</li>
                                        <li>Item 2.2</li>
                                        <li>Item 2.3</li>
                                    </ul>
                                </li>
                                <li class="expandable-category"> Clothes - Warm
                                    <ul class="sub-category-list">
                                        <li>Item 3.1</li>
                                        <li>Item 3.2</li>
                                        <li>Item 3.3</li>
                                    </ul>
                                </li>
                            </ul>
                        </div> <!-- closing pre-made-categories-container -->
                </div> <!-- closing right-column -->

        <button id="back-btn" class="hidden">Back</button>
    </div> <!-- closing main-content -->
</body>
<!--HTML-->




<!--Javascript-->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script>
    // user can drag and drop the items to reorder them    
    // sortable is the items within the first white box
        $(function() {
            $("#sortable").sortable();
            $("#sortable").disableSelection();

        // store initial checklist items
        // listing up an items and naming as intialitems
        var initialItems = [
                { id: "item1", text: "Contact lenses" },
                { id: "item2", text: "Eye glasses" },
                { id: "item3", text: "Sunglasses" }
        ];

        // Function to populate initial items
        function populateInitialItems() {
                var sortable = $('#sortable');
                // Selects the element with ID "sortable" using jQuery and stores it in the variable sortable
                sortable.empty();
                // Empties out any existing content within the sortable element
                initialItems.forEach(function(item) {    
                    var li = $("<li>");
                
                    // Checkbox and Label
                    var checkbox = $("<input>").attr("type", "checkbox").attr("id", item.id);
                    var label = $("<label>").attr("for", item.id).text(item.text);
                    li.append(checkbox).append(label);

                   // Switch with Slider and Opt-out Label
                    var switchContainer = $("<label>").addClass("switch");
                    var switchInput = $("<input>").addClass("remove-switch").attr("type", "checkbox");
                    var slider = $("<span>").addClass("slider");
                    var optOutLabel = $("<span>").addClass("opt-out-label").text("Opt out");
                
                    switchContainer.append(switchInput).append(slider).append(optOutLabel);
                    li.append(switchContainer);
                    
                    sortable.append(li);
                    // Appends the newly created list item (li) to the sortable element
                });
        }
        // Function to change the color of optout when it clicked
        function updateSwitchColor(el) {
                var slider = $(el).siblings('.slider');
                if ($(el).is(':checked')) {
                    slider.css('background-color', '#ccc');
                } else {
                    slider.css('background-color', '#ccc');
                }
                //when the opt out is checked, the color should be first one (the color of slider in the removed items
                //and else, second color
        }

        // Function to display saved checklists from localStorage and to let it save checklist
            function displaySavedChecklists() {
                var savedChecklists = JSON.parse(localStorage.getItem("savedChecklists")) || [];
                var savedChecklistsList = $("#yoursaved-checklists");
                savedChecklistsList.empty();
                savedChecklists.forEach(function(checklist, index) {
                    var li = $("<li>").text(checklist.name).data("index", index);
                    var deleteBtn = $("<button>").addClass("delete-checklist-btn").text("Delete");
                        li.append(deleteBtn); 
                    // Append delete button to each checklist item
                    savedChecklistsList.append(li);
                });
            }

        // To show delete button visibility when you click an item under your saved checklist
            $('#yoursaved-checklists').on('click', 'li', function() {
            $(this).find('.delete-checklist-btn').toggle();
            });

        // To enable to click delete button
            $('#yoursaved-checklists').on('click', '.delete-checklist-btn', function(event) {
                event.stopPropagation(); 
                var index = $(this).closest('li').data('index'); 
                var savedChecklists = JSON.parse(localStorage.getItem("savedChecklists")) || [];

        // Remove a selected your saved checklist item from the list
            savedChecklists.splice(index, 1);

        // Update localStorage with modified array
            localStorage.setItem("savedChecklists", JSON.stringify(savedChecklists));
                
        // Re-display updated checklists
            displaySavedChecklists();
            });

         // Function to name the save checklist  
            function saveChecklist() {
            var checklistName = $("#checklist-name").val().trim();
            if (checklistName === "") {
            alert("Please enter a checklist name.");
            return;
            }

        // Function to save the named checklist     
            var checklistItems = [];
            $("#sortable li").each(function() {
            var item = $(this).find("label:first").text().trim();
            var removed = $(this).hasClass("removed");
            checklistItems.push({ item: item, removed: removed });
            });
            var savedChecklists = JSON.parse(localStorage.getItem("savedChecklists")) || [];
            savedChecklists.push({ name: checklistName, items: checklistItems });
            localStorage.setItem("savedChecklists", JSON.stringify(savedChecklists));
            $("#checklist-name").val("");
            displaySavedChecklists();
            }
            
        // Function to have another items within your saved checklist
            function loadChecklist(index) {
            var savedChecklists = JSON.parse(localStorage.getItem("savedChecklists")) || [];
            var checklist = savedChecklists[index];
                
                // function to switch beteen each your saved checklist
                $("#sortable").empty();
                $("#removed-sortable").empty();

                // this enable to add a new items
                checklist.items.forEach(function(item) {
                    var li = $(
                        '<li>' +
                        '<input type="checkbox">' +
                        '<label>&nbsp;' + item.item + '</label>' +
                        '<label class="switch">' +
                        '<input type="checkbox" class="remove-switch">' +
                        '<span class="slider"></span>' +
                        '<span class="opt-out-label">Opt out</span>' +
                        '</label>' +
                        '<span class="switch-label" data-on="Yes" data-off="No"></span>' +
                        '</li>'
                    );
                    // keeping the exisiting list when you delete your saved item list
                    if (item.removed) {
                        li.addClass("removed");
                        li.appendTo("#removed-sortable");
                    } else {
                        li.appendTo("#sortable");
                    }
                });
            }

        //to add add items button     
        $("#add-item-btn").click(function() {
            var newItemText = $("#new-item").val().trim();
            if (newItemText !== "") {
            var newItem = $(
                '<li>' +
                '<input type="checkbox">' +
                '<label>&nbsp;' + newItemText + '</label>' +
                '<label class="switch">' +
                '<input type="checkbox" class="remove-switch">' +
                '<span class="slider"></span>' +
                '<span class="opt-out-label">Opt out</span>' +
                '</label>' +
                '<span class="switch-label" data-on="Yes" data-off="No"></span>' +
                '</li>'
        )
        
        // function to show a new added item within the checklist
        .hide().appendTo("#sortable").fadeIn('fast');
    }
});

// to switch the white circle within the slider to left when item is moved to removed box
$("#sortable, #removed-sortable").on("change", "li .remove-switch", function() {
    var item = $(this).closest('li');
    if ($(this).is(':checked')) {
        item.addClass('removed');
        item.find('.opt-out-label').hide(); // Hide the Opt out label
        item.appendTo("#removed-sortable");
    } else {
        item.removeClass('removed');
        item.find('.opt-out-label').show(); // Show the Opt out label
        item.appendTo("#sortable");
    }
    updateSwitchColor(this);
});

// to save the checklist when click save checklist button
$("#save-checklist-btn").click(saveChecklist);
$("#yoursaved-checklists").on("click", "li", function() {
        var index = $(this).data("index");
        loadChecklist(index);
});


// to back  to the original checklist screen
$("#back-btn").on("click", function() {
    console.log("Back button clicked");
    populateInitialItems(); // Check if this log appears
    $(this).addClass("hidden"); // Check if this log appears
});
            displaySavedChecklists();
});


//to add a sublist under the pre-categories and expand/hide
document.querySelectorAll('.expandable-category').forEach(function(category) {
    category.addEventListener('click', function() {
        var subList = this.querySelector('.sub-category-list');
        if (subList.style.display === 'none' || subList.style.display === '') {
            subList.style.display = 'block';
        } else {
            subList.style.display = 'none';
        }
    });
});


    </script>
</html>
